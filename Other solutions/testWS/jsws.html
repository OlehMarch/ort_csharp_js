<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript">
		var ws;
		
        function connect() {
            ws = new WebSocket("ws://localhost:8080");
			
			ws.onopen = function () {
				alert("About to send data");
				var message = "Hello world";
				ws.send(/*unescape(encodeURIComponent(*/message/*))*/);
				alert("Message sent!");
			};

			ws.onmessage = function (evt) {
				alert("About to receive data");
				var received_msg = evt.data;
				alert("Message received = "+received_msg);
			};
			ws.onclose = function () {
				// websocket is closed.
				alert("Connection is closed...");
			};
		};

		function send(message){
			ws.send(message);
		}
		
		
    </script>
</head>
<body style="font-size:xx-large" >
    <div>
		<input type="text" id="textBox" />
		<input type="button" id="button" value="send" onclick="send(textBox.value)">
		<a href="#" onclick="connect()">Click here to start</a>
	</div>
</body>
</html>